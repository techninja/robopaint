<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <script type="text/javascript" src="resources/scripts/lib/jquery.js"></script>
    <script type="text/javascript" src="resources/main.js"></script>
    <script type="text/javascript" src="resources/scripts/robopaint.utils.js"></script>
    <script type="text/javascript" src="resources/scripts/lib/jquery.qtip.min.js"></script>

    <link rel="stylesheet" href="resources/styles.css">

    <title>RoboPaint!</title>
  </head>
<body class="home">
<div id="bar">
  <img class="logo" src ="resources/images/robopaint_logo.svg"/><span class="version">(v0.0.0)</span>
  <span class="left">
    <a id="bar-home" class="icon-home selected mode tipped" href="/" title="Home screen">&nbsp;</a>
    <a id="bar-edit" class="icon-edit mode tipped" href="resources/method-editor/editor/index.html" title="Open, resize, and edit existing vector artwork.">&nbsp;</a>
    <a id="bar-print" class="icon-brush mode tipped" href="resources/print-auto.html" title="Painting Mode: Print your drawing!">&nbsp;</a>
    <a id="bar-manual" class="icon-picture-1 mode tipped hidden" href="resources/print-manual.html" title="Manual Mode: Customize your print">&nbsp;</a>
    <span class="separator">&nbsp;</span>
    <a id="bar-load" class="icon-picture tipped" href="#" title="Open an example image">&nbsp;</a>
    <ul id="loadlist" style="display:none">
      <li>No files. Add *.SVG to ./resources/svgs</li>
    </ul>
  </span>

  <span class="right">
    <a id="bar-help" title="Help! (Open web docs)" class="tipped" href="http://wiki.evilmadscientist.com/RoboPaint">?</a>
    <a id="bar-settings" class="mode icon-cog-alt tipped" href="#" title="Settings">&nbsp;</a>
  </span>
</div>

<div id="modalmask"></div>
<div id="settings">
  <button id="settings-done" class="normal">Done</button>
  <h2>Settings</h2>
  <ul class="tabs">
    <li><a href="#settings-output">Painting Style</a></li>
    <li><a href="#settings-common">Basic Setup</a></li>
    <li><a href="#settings-advanced">Advanced</a></li>
  </ul>

  <div id="settings-common" class="settings-content">
    <fieldset>
      <legend>Brush-lift (servo) Motor</legend>
      <div>
        <label for="servoup">Up Position:</label>
        <input type="range" id="servoup" min="0" max="1000"/>
      </div>

      <div>
        <label for="servopaint">Paint Position:</label>
        <input type="range" id="servopaint" min="0" max="1000"/>
      </div>

      <div>
        <label for="servowash">Wash Position:</label>
        <input type="range" id="servowash" min="0" max="1000"/>
      </div>

      <div>
        <label for="servotime">Duration:</label>
        <input type="range" id="servotime" min="0" value="200" max="1000"/>
        <aside>Amount of time (in milliseconds) we should wait for a movement through
          the full up/down range. <b>Default is 340</b>, set to 0 to not wait at all.
          Smaller movements will take a proportionately smaller amount of time.</aside>
      </div>
    </fieldset>

    <fieldset class="hidden">
      <legend>Serial connection</legend>
        <select id="ports" title="Available serial ports">
          <option value="auto">Auto-port</option>
        </select>
        <button id="connect">Connect</button>
        <aside>This currently doesn't work. Here's hoping auto-detect works for ya!</aside>
    </fieldset>
  </div>

  <div id="settings-output" class="settings-content">
    <fieldset>
      <legend>General</legend>
      <fieldset class="speed">
        <legend>Carriage Movement Speed:</legend>
        <div>
          <label for="movespeed">...while Brush is Up:</label>
          <input type="range" id="movespeed" min="200" max="2000" title="Move left for slower, right for faster."/>
        </div>
        <div>
          <label for="paintspeed">...while Brush is Down:</label>
          <input type="range" id="paintspeed" min="200" max="2000" title="Move left for slower, right for faster."/>
        </div>
      </fieldset>

      <div>
        <label for="penmode">Painting/Drawing Mode:</label>
        <select id="penmode">
          <option value="0">Default (Brush, Water &amp; Paint)</option>
          <option value="1">Water Only (No Paint: Buddha Board)</option>
          <option value="2">Paint Only (No Water: Non-watercolors)</option>
          <option value="3">No Water or Paint (Pen/Pencil mode)</option>
        </select>
      </div>

      <div>
        <label for="showcolortext">Show color names:</label>
        <input type="checkbox" id="showcolortext"/>
        <aside>When checked, color names will display on the paint palette for print colors, otherwise they will only be visible on hover.</aside>
      </div>

      <div>
        <label for="colorset">Installed Paint Set:</label>
        <select id="colorset"></select>
      </div>

      <hr>

      <div>
        <label for="strokeprecision">Stroke Precision:</label>
        <select id="strokeprecision">
          <option value="1">Uber Fine [slow] (1)</option>
          <option value="2">Very Fine (2)</option>
          <option value="4">Fine (4)</option>
          <option value="6">Default (6)</option>
          <option value="10">Coarse (10)</option>
          <option value="15">Very Coarse [fast] (15)</option>
        </select>
        <aside>How accurately outlines are retraced to be drawn. Smaller precision value = more detail, but more processing/drawing time.</aside>
      </div>

      <div>
        <label for="strokeovershoot">Stroke Overshoot:</label>
        <select id="strokeovershoot">
          <option value="0">None (0)</option>
          <option value="1">Tiny (2mm)</option>
          <option value="5">Medium (5mm)</option>
          <option value="8">Longer (8mm)</option>
          <option value="13">Yikes (13mm)</option>
          <option value="20">Unhelpful (20mm)</option>
        </select>
        <aside>The distance factor to move the brush beyond when lifting to make up for brush bend. Default is <b>5mm</b>.</aside>
      </div>
    </fieldset>

    <fieldset class="paintreloading">
        <legend>Paint Reloading</legend>
        <aside>Choose when and how to go get more water/paint on the brush while painting with brushes.</aside>
        </br>
        <label for="reloadwhen">Reload when:</label>
        <select id="reloadwhen">
            <option value="0">After a certain distance</option>
            <option value="1">After each path</option>
        </select>
        <aside>Reload after a certain distance or after each path. Using distance is more efficient, but causes interrupted paths. After each path is slower, but makes continuous strokes. Default is <b>After a certain distance</b>.</aside>
        </br>
        <label for="reloadhow">Reload how:</label>
        <select id="reloadhow">
            <option value="0">Full reload</option>
            <option value="1">Single dip (1 water &plus; 1 paint)</option>
            <option value="2">Single dip (just paint)</option>
            <option value="3">Double dip (1 water &plus; 2 paint)</option>
            <option value="4">Double dip (just paint)</option>
        </select>
        <aside>Reload by doing a full reload, single or double dips, with or without water. Use a full reload if using long distance reloads or lots of long paths. Dipping is best for short distance reloads or short paths. Default is <b>Full reload</b>.</aside>
        <hr>
        <div>
            <label for="maxpaintdistance">Refill Distance:</label>
            <input type="range" title="Move left to get paint more often, right to get paint less often" id="maxpaintdistance" min="500" max="20000" />
            <aside>If using distance, this is how far it should paint on the paper before reloading. Default is <b>48cm / 19in</b>.</aside>
        </div>
    </fieldset>

    <fieldset>
      <legend>Fill</legend>
      <div>
        <label for="filltype">Type:</label>
        <select id="filltype">
          <option value="line-straight">Straight line</option>
          <option value="line-triangle">Triangle line</option>
          <option value="line-sine">Sine line</option>
          <option value="spiral">Center spiral</option>
          <option value="tsp">TSP Squiggle</option>
        </select>
      </div>

      <fieldset class="filltype">
        <legend>Line/Hatch Fills</legend>
        <div>
          <label for="fillangle">Line Angle:</label>
          <select id="fillangle">
            <option value="0">Horizontal (0&deg;)</option>
            <option value="45">Diagonal (45&deg;)</option>
            <option value="90">Vertical (90&deg;)</option>
          </select>
        </div>
        <div>
          <label for="fillspacing">Line Spacing:</label>
          <select id="fillspacing">
            <option value="1">Miniscule (1)</option>
            <option value="5">Tiny (5)</option>
            <option value="10">Default (10)</option>
            <option value="15">Medium (15)</option>
            <option value="25">Wide (25)</option>
            <option value="40">Spacious (40)</option>
          </select>
        </div>
      </fieldset>

      <div>
        <label for="fillprecision">Fill Precision:</label>
        <select id="fillprecision">
          <option value="1">Uber Fine (1)</option>
          <option value="3">Very Fine (3)</option>
          <option value="7">Fine (7)</option>
          <option value="14">Default (14)</option>
          <option value="21">Coarse (21)</option>
          <option value="35">Very Coarse (35)</option>
        </select>
      </div>

      <div>
        <label for="gapconnect">Connect small gaps:</label>
        <input type="checkbox" id="gapconnect" checked/>
        <aside>Makes back and forth fills smoother by not lifting brush at edges.</aside>
      </div>

    </fieldset>
  </div>

  <div id="settings-advanced" class="settings-content">
    <fieldset>
      <legend>X/Y Steppers</legend>

      <div>
        <label for="invertx">Invert X axis:</label>
        <input type="checkbox" id="invertx"/><b> | </b>
        <label for="inverty">Invert Y axis:</label>
        <input type="checkbox" id="inverty"/>
        <aside>In case one of your motors moves backwards.</aside>
      </div>

      <div>
        <label for="latencyoffset">Buffer Smoothing:</label>
        <input type="range" title="Move right for more offset (smooth), left for negative offset (jerky)" id="latencyoffset" min="-100" max="500" />
        <aside>Removes time from API callback duration, forces buffering and smoothing out subsequent position calls. Default is <b>20 ms</b>. Negative values add extra delay. Only increase if painting is jittery.</aside>
      </div>

      <div>
        <label for="swapmotors">Swap X for Y:</label>
        <input type="checkbox" id="swapmotors"/>
        <aside>In case you've accidentally wired up Motor 1 where Motor 2 is supposed to go.</aside>
      </div>
    </fieldset>

    <fieldset>
      <legend>Misc</legend>

      <fieldset>
        <legend>Modes</legend>
        <aside>Enable or disable experimental RoboPaint modes</aside>

        <div>
          <label for="manualpaintenable">Manual paint:</label>
          <input type="checkbox" id="manualpaintenable"/>
          <aside>Like Auto-paint, but allows for more control over what elements are painted, and a number of other options.</aside>
        </div>
      </fieldset>

      <div>
        <label for="openlast">Open last image on startup:</label>
        <input type="checkbox" id="openlast"/>
      </div>

    </fieldset>

    <fieldset>
      <legend>API Server</legend>
      <div class="httpport">
        <label for="httpport">Server at (<span>...</span>):</label>
        <input type="text" id="httpport"/>

        <aside>When running supported apps, this would be the server IP and port to enter into the app. <b>Change requires App restart.</b></aside>
      </div>

      <div>
        <label for="httplocalonly">Only allow connections from this computer:</label>
        <input type="checkbox" id="httplocalonly"/>
        <aside>Uncheck this to connect to the CNCServer API in RoboPaint from other devices. <b>Change requires App restart.</b></aside>
      </div>
    </fieldset>
  </div>
</div>

<img id="logo" src="resources/images/watercolorbot_icon.png"/>

<h1 class="loading"><b>Starting up...</b></h1>
<nav>
  <a href="resources/edit/index.html" id="edit" title="Open, resize, and edit existing vector artwork.">Create</a>
  <a href="resources/print-auto.html" id="print" title="Painting Mode: Print your drawing!">Print</a>
  <a href="resources/print-manual.html" id="manual" class="hidden" title="Manual Mode: Customize a print">Manual</a>
</nav>

</body>
</html>

